<script>
  var startPicker,
      endPicker,
      updateStartDate = function() {
          startPicker.setStartRange(startDate);
          endPicker.setStartRange(startDate);
          endPicker.setMinDate(startDate);
      },
      updateEndDate = function() {
          startPicker.setEndRange(endDate);
          startPicker.setMaxDate(endDate);
          endPicker.setEndRange(endDate);
      },
      startPicker = new Pikaday({
          field: document.getElementById('start-date'),
          format: 'YYYY/MM/D',
          maxDate: moment().toDate(),
          bound: false,
          i18n: {
            previousMonth : '上個月',
            nextMonth     : '下個月',
            months        : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
            weekdays      : ['週日','週一','週二','週三','週四','週五','週六'],
            weekdaysShort : ['日','一','二','三','四','五','六']
          },
          onSelect: function() {
              startDate = this.getDate();
              updateStartDate();
          }
      }),
      endPicker = new Pikaday({
          field: document.getElementById('end-date'),
          format: 'YYYY/MM/D',
          maxDate: moment().toDate(),
          bound: false,
          i18n: {
            previousMonth : '上個月',
            nextMonth     : '下個月',
            months        : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],
            weekdays      : ['週日','週一','週二','週三','週四','週五','週六'],
            weekdaysShort : ['日','一','二','三','四','五','六']
          },
          onSelect: function() {
              endDate = this.getDate();
              updateEndDate();
          }
      }),
      _startDate = startPicker.getDate(),
      _endDate = endPicker.getDate();

      if (_startDate) {
          startDate = _startDate;
          updateStartDate();
      }

      if (_endDate) {
          endDate = _endDate;
          updateEndDate();
      }
</script>